@startuml VetHotel

' + -> public
' - -> private
' # -> protected
' ~ -> package
' {static} -> shared added as a prefix
' {final} -> constant added as prefix
' *-- -> composition full tilted square
' o-- -> agregation empty tilter square
' -- -> association line
' ..> -> dependency dotted line

class VetHotel{
    - _habitats: Map<String, Habitat>
    - _workers: Map<String, Worker>
    - _vaccines: Map<String, Vaccine>
    - _species: Map<String, Species>
    ' Check how to notify tree listeners.
    - _season: SeasonType
    ' Decide if we should only use one log (for loop), or have the error log
    - _errVaccineLog: String
    - _vaccineLog: String
    + satisfaction(): int
    + printVaccineErr(): String
    + printVaccines(): String
    + printWorkers(): String
    + printAnimals(): String
    + printHabitats(): String
    + printSpecies(): String
    + addHabitat(id: String, name: Name): Habitat
    + addWorker(id: String, name: Name): Worker
    + addVaccine(id: String, name: Name): Vaccine
    + addSpecies(id: String, name: Name): Specie
    + progressSeason(): void
}

class Habitat{
    - {final} _id: String
    - {final} _name: String
    - _area: int
    - _trees: Map<String, Tree>
    - _animals: Map<Species, Map<String, Animal>>
    - _suitability: Map<Species, Integer>
    - _careTakers: Map<String, CareTaker>

    + animalExists(animal: Animal): boolean
    + suitability(species: Species): int
    + careTakerCount(): int
    + changeSuitability(species: Species, suitability: int): void
    + addAnimal(animal: Animal): void
    + removeAnimal(animal: Animal): void
    + addTree(tree: Tree): void
    + removeTree(tree: Tree): void
    + print(): String
    + equals(habitat: Habitat): boolean
}

class Species{
    - {final} _id: int
    - {final} _name: String
    - {static} _counter: int
    - _animals: Map<String, Animal>
    - _vets: Map<String, Vets>
    + addAnimal(animal: Animal): void
    + removeAnimal(animal: Animal): void
    + animalExists(id: String): Animal
    + equals(species: Species): boolean
    + vetCounter(): int
}

enum VaccineDamage {
    NORMAL
    CONFUSION
    ACCIDENT
    ERROR
}

enum SeasonType {
    SPRING
    SUMMER
    FALL
    WINTER
}

enum LeafState {
    WITHOUTLEAFS
    WITHLEAFS
    FALLINGLEAFS
    GENERATELEAFS
}


class Animal{
    - {final} _id: String
    - {final} _species: Specie
    - {final} _name: String
    - _habitat: Habitat
    - _healthLog: String
    + satisfaction(): float
    + vaccineEvent(): void
    + print(): String
    + equals(animal: Animal): boolean
}

Class Tree{
    - {final} _id: String
    - {final} _name: String
    - _age: int
    - {final} _birthSeason: SeasonType
    - {final} _isEvergreen: boolean
    - _cleanDifficulty: int
    + leafState(season: SeasonType): LeafState
    + print(): String
    + equals(tree: Tree): boolenan
}

abstract class Workers{
    # {final} _id: String
    # {final} _name: String
    # {final} _workerType: String
    + abstract satisfaction()
    + abstract print(): String
    + abstract addResponsability(): Void
    + abstract removeResponsability(): 
    + equals(): boolean
}

class CareTaker extends Workers{
    - _habitats: Habitat[]
    + cleanHabitat(habitat: Habitat): void
    + satisfaction(): float
    + print(): String
    + addResponsability(habitat: Habitat): void
    + removeResponsability(id: String): Void
}

class Vet extends Workers{
    - _species: Species[]
    + vaccinate(animal: Animal, vaccine: Vaccine): void
    + satisfaction(): float
    + print(): String
    + addResponsability(): void
    + removeResponsability(): Void
}

Class Vaccine {
    - _id: String
    - _name: String
    - _species: Species[]
    - _applyCount: int
    '- _log: String
    + apply(animal: Animal, vet: Vet): void
    + print(): String
}

VetHotel *--  Habitat
VetHotel o-- Workers
VetHotel o-- Vaccine

Habitat *-- Tree
Habitat -- Animal
Habitat -- CareTaker

Species *-- Animal
Species -- Vet

SpeciesManager *-- Species

Animal -- Species

Tree -- Habitat

Season -- Tree

CareTaker -- Habitat

Vet -- Species

Vaccine -- Species
Vaccine -- Vet

' Vacinas podem existir sem existencia de um Vet? Devo guardar num singleton? por hotel
' A estação do ano é sempre a mesma sobre todos os Veterinarios no mundo? ou podemos ter varias? se não fica como singleton. por hotel
' Especies podem existir fora de um Vet? se sim devo guardar num singleton? para que possam ser utilizadas noutros vets sem ter de as registar denovo? por hotel.
@enduml